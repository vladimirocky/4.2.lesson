"use strict";var _data_module=_interopRequireDefault(require("./data_module")),_utils=require("./utils");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function ownKeys(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,a)}return e}function _objectSpread(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(e,!0).forEach(function(t){_defineProperty(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ownKeys(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function _defineProperty(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var totalPrice=0,cart={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=_data_module.default[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var product=_step.value;cart[product.name]=_objectSpread({},product,{count:0})}}catch(t){_didIteratorError=!0,_iteratorError=t}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}function renderItem(t){var r=t.name,e=t.price,a=t.count;(0,_utils.addHtml)('\n    <div class="p-3 mb-2 bg-secondary text-white">\n\n    <p class="text-center fw-bold">\n\n    [ '.concat(e,' руб <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cash" viewBox="0 0 16 16">\n    <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>\n    <path d="M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2H3z"/>\n    </svg> ] - ').concat(a,' шт\n\n    <button class="addTocart btn btn-warning" id="saasTest" data-name="').concat(r,'" data-price="').concat(e,'">\n    Добавить\n    </button>\n\n    <button class="removeTocart btn btn-danger" data-name="').concat(r,'" data-price="').concat(e,'">\n    Удалить\n    </button>\n\n    </p>\n\n    </div>\n  '))}function renderPage(){(0,_utils.clearHtml)();var t=!0,r=!1,e=void 0;try{for(var a,n=_data_module.default[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var o=a.value;renderItem(cart[o.name])}}catch(t){r=!0,e=t}finally{try{t||null==n.return||n.return()}finally{if(r)throw e}}(0,_utils.addHtml)('<div class="p-3 mb-2 bg-success text-white">\n\n    <p class="text-center fw-bold">\n\n      Итог : '.concat(totalPrice," </img>\n    </p>\n\n    </div>\n    ")),document.querySelectorAll(".addTocart").forEach(function(t){t.addEventListener("click",function(t){var r=t.target.getAttribute("data-name"),e=+t.target.getAttribute("data-price");totalPrice+=e,cart[r].count+=1,renderPage()})}),document.querySelectorAll(".removeTocart").forEach(function(t){t.addEventListener("click",function(t){var r=t.target.getAttribute("data-name"),e=t.target.getAttribute("data-price");(totalPrice-=e)<0&&(totalPrice=0),cart[r].count-=1,cart[r].count<0&&(cart[r].count=0),renderPage()})})}renderPage();
//# sourceMappingURL=index.min.js.map
